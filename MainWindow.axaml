<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:ae="clr-namespace:AvaloniaEdit;assembly=AvaloniaEdit"
        xmlns:svg="clr-namespace:Avalonia.Svg.Skia;assembly=Avalonia.Svg.Skia"
        mc:Ignorable="d" d:DesignWidth="1250" d:DesignHeight="850"
        x:Class="AbiturEliteCode.MainWindow"
        Title="Abitur Elite Code"
        Width="1250" Height="850"
        WindowStartupLocation="CenterScreen"
        Background="#121212"
        RequestedThemeVariant="Dark">

	<LayoutTransformControl Name="RootScaleTransform">
		<Grid Name="RootGrid" RowDefinitions="60,*">

			<Border Grid.Row="0" Background="#202124" BorderBrush="#333" BorderThickness="0,0,0,1">
				<Grid ColumnDefinitions="Auto, Auto, *, Auto, Auto">
					<StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="20,0">
						<TextBlock Text="ABITUR" Foreground="#E6E6E6" FontWeight="Bold" FontSize="18"/>
						<TextBlock Text=" ELITE CODE" Foreground="#32A852" FontWeight="Bold" FontSize="18"/>
					</StackPanel>

					<Button Grid.Column="1" Name="BtnLevelSelect" Content="LEVEL WÄHLEN"
							Background="#2D2D30" Foreground="White"
							CornerRadius="4" Padding="15,8"
							VerticalAlignment="Center" Margin="20,0"
							HorizontalAlignment="Center"
							Click="BtnLevelSelect_Click"/>

					<Button Grid.Column="3" Name="BtnNextLevel" Content="NÄCHSTES LEVEL →"
							Background="RoyalBlue" Foreground="White" IsVisible="False"
							CornerRadius="4" Padding="15,8" FontWeight="Bold"
							VerticalAlignment="Center" Margin="0,0,20,0"
							Click="BtnNextLevel_Click"/>
				</Grid>
			</Border>

			<Grid Grid.Row="1" ColumnDefinitions="*, 4, *">

				<TabControl Grid.Column="0" Name="MainTabs" Margin="10,5,5,10" Padding="0">
					<TabControl.Styles>
						<Style Selector="TabItem">
							<Setter Property="FontSize" Value="15"/>
							<Setter Property="Foreground" Value="#CCCCCC"/>
							<Setter Property="Padding" Value="15,10"/>
							<Setter Property="Margin" Value="0,0,0,0"/>
							<Setter Property="MinHeight" Value="47"/>
						</Style>
						<Style Selector="TabItem:selected">
							<Setter Property="Foreground" Value="#32A852"/>
							<Setter Property="FontWeight" Value="SemiBold"/>
						</Style>
					</TabControl.Styles>

					<TabItem Header="Aufgabe">
						<Border Background="#202124" CornerRadius="8" Padding="20" Margin="0">
							<ScrollViewer>
								<StackPanel Name="PnlTask" Spacing="10"/>
							</ScrollViewer>
						</Border>
					</TabItem>

					<TabItem Header="UML/Diagramme">
						<Border Background="#202124" CornerRadius="8" ClipToBounds="True" Margin="0">
							<Panel Name="DiagramPanel" Background="Transparent"
								   PointerWheelChanged="Diagram_PointerWheelChanged"
								   PointerPressed="Diagram_PointerPressed"
								   PointerMoved="Diagram_PointerMoved"
								   PointerReleased="Diagram_PointerReleased">

								<Image Name="ImgDiagram" Stretch="None" RenderTransformOrigin="0.5,0.5">
									<Image.RenderTransform>
										<TransformGroup>
											<ScaleTransform/>
											<TranslateTransform/>
										</TransformGroup>
									</Image.RenderTransform>
								</Image>

								<Button Name="BtnResetDiagram"
										Background="#3C3C3C"
										Width="40" Height="40"
										CornerRadius="5"
										ToolTip.Tip="Diagramm zurücksetzen"
										HorizontalAlignment="Left"
										VerticalAlignment="Bottom"
										Margin="10"
										Click="BtnResetDiagram_Click">
									<svg:Svg Path="/icons/ic_restart.svg" Width="20" Height="20"/>
								</Button>

								<TextBlock Text="Mausrad: Zoom | Drag: Bewegen"
										   Foreground="#666" FontSize="12"
										   HorizontalAlignment="Right" VerticalAlignment="Bottom"
										   Margin="10"/>
							</Panel>
						</Border>
					</TabItem>

					<TabItem Header="Materialien">
						<Border Background="#202124" CornerRadius="8" Padding="20" Margin="0">
							<ScrollViewer>
								<StackPanel Name="PnlMaterials" Spacing="10"/>
							</ScrollViewer>
						</Border>
					</TabItem>

					<TabItem Header="Vim Hilfe" Name="TabVim" IsVisible="False">
						<Border Background="#202124" CornerRadius="8" Padding="0" Margin="0">
							<ScrollViewer>
								<StackPanel Name="PnlVimCheatSheet" Margin="20">
									<TextBlock Text="Vim Cheat Sheet"
											   FontSize="20" FontWeight="Bold" Foreground="#32A852"
											   Margin="0,0,0,20"/>

									<Grid ColumnDefinitions="*, 20, *" RowDefinitions="Auto">
										<StackPanel Grid.Column="0" Name="VimCol1" Spacing="20"/>
										<StackPanel Grid.Column="2" Name="VimCol2" Spacing="20"/>
									</Grid>

									<TextBlock Text="Hinweis: Dies ist eine vereinfachte Simulation."
											   Foreground="#666" FontSize="12" Margin="0,30,0,0" HorizontalAlignment="Center"/>
								</StackPanel>
							</ScrollViewer>
						</Border>
					</TabItem>

				</TabControl>

				<GridSplitter Grid.Column="1" Background="Transparent" ResizeDirection="Columns"/>

				<Grid Grid.Column="2" RowDefinitions="Auto, *, 4, 180" Margin="5,10,10,10">

					<Grid Grid.Row="0" ColumnDefinitions="*, Auto" Margin="0,0,0,8">
						<StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="10">

							<Button Name="BtnSettings" Background="#464646" Width="40"
									CornerRadius="5" Click="BtnSettings_Click" ToolTip.Tip="Einstellungen">
								<svg:Svg Path="/icons/ic_settings.svg" Width="20" Height="20"/>
							</Button>

							<Button Name="BtnReset" Background="#B43232" Width="40"
									CornerRadius="5" Click="BtnReset_Click" ToolTip.Tip="Code zurücksetzen">
								<svg:Svg Path="/icons/ic_restart.svg" Width="20" Height="20"/>
							</Button>
							<Button Name="BtnSave" Background="#464646" Width="50"
									CornerRadius="5" Click="BtnSave_Click" ToolTip.Tip="Code speichern (Ctrl + S)">
								<svg:Svg Path="/icons/ic_save.svg" Width="20" Height="20"/>
							</Button>
							<Button Name="BtnRun" Content="▶ AUSFÜHREN" Background="#32A852" Foreground="White" FontWeight="Bold"
									Padding="15,8" CornerRadius="5" Click="BtnRun_Click"/>
						</StackPanel>
					</Grid>

					<Border Grid.Row="1" CornerRadius="10" ClipToBounds="True" Background="#1E1E1E" BorderBrush="#333" BorderThickness="1">
						<Grid RowDefinitions="*, Auto">
							<ae:TextEditor Name="CodeEditor"
										   Grid.Row="0"
										   FontFamily="Consolas, Monospace"
										   FontSize="16"
										   ShowLineNumbers="True"
										   Background="Transparent"
										   Foreground="#D4D4D4"
										   HorizontalScrollBarVisibility="Auto"
										   VerticalScrollBarVisibility="Auto"/>

							<Border Grid.Row="1" Background="#007ACC" Name="VimStatusBorder" IsVisible="False" Padding="5,2">
								<TextBlock Name="VimStatusBar"
										   Text="-- NORMAL --"
										   FontFamily="Consolas"
										   FontSize="12"
										   Foreground="White"
										   FontWeight="Bold"/>
							</Border>
						</Grid>
					</Border>

					<GridSplitter Grid.Row="2" Background="Transparent" ResizeDirection="Rows" HorizontalAlignment="Stretch"/>

					<Border Grid.Row="3" CornerRadius="10" ClipToBounds="True" Background="#101010" BorderBrush="#333" BorderThickness="1">
						<TextBox Name="TxtConsole"
									FontFamily="Consolas, Monospace" FontSize="13"
									Background="Transparent" Foreground="LightGray"
									IsReadOnly="True" TextWrapping="Wrap"
									BorderThickness="0"
									Padding="15"/>
					</Border>
				</Grid>
			</Grid>
		</Grid>
	</LayoutTransformControl>
</Window>